{
  "id": 274,
  "title": "jq - get ",
  "created": "2022-04-09T07:52:51Z",
  "modified": "2022-04-09T07:53:06Z",
  "code": [
    "curl -s 'https://api.github.com/repos/nntrn/dvt/commits?per_page=1' | jq '.[] | {message: .commit.message, date: .commit.committer.date}'"
  ],
  "example": [
    "$ curl -s 'https://api.github.com/repos/nntrn/dvt/commits?per_page=1' ",
    "[",
    "  {",
    "    \"sha\": \"6e42802dcd22548be5c2d93c8a5b9939c42a10f9\",",
    "    \"node_id\": \"C_kwDOGlqnl9oAKDZlNDI4MDJkY2QyMjU0OGJlNWMyZDkzYzhhNWI5OTM5YzQyYTEwZjk\",",
    "    \"commit\": {",
    "      \"author\": {",
    "        \"name\": \"annie tran\",",
    "        \"email\": \"17685332+nntrn@users.noreply.github.com\",",
    "        \"date\": \"2021-12-27T12:13:16Z\"",
    "      },",
    "      \"committer\": {",
    "        \"name\": \"annie tran\",",
    "        \"email\": \"17685332+nntrn@users.noreply.github.com\",",
    "        \"date\": \"2021-12-27T12:13:16Z\"",
    "      },",
    "      \"message\": \"1.2.0\",",
    "      \"tree\": {",
    "        \"sha\": \"0ff39c1a1781376b44b352f4d3ad7b0703d05812\",",
    "        \"url\": \"https://api.github.com/repos/nntrn/dvt/git/trees/0ff39c1a1781376b44b352f4d3ad7b0703d05812\"",
    "      },",
    "      \"url\": \"https://api.github.com/repos/nntrn/dvt/git/commits/6e42802dcd22548be5c2d93c8a5b9939c42a10f9\",",
    "      \"comment_count\": 0,",
    "      \"verification\": {",
    "        \"verified\": false,",
    "        \"reason\": \"unsigned\",",
    "        \"signature\": null,",
    "        \"payload\": null",
    "      }",
    "    },",
    "    \"url\": \"https://api.github.com/repos/nntrn/dvt/commits/6e42802dcd22548be5c2d93c8a5b9939c42a10f9\",",
    "    \"html_url\": \"https://github.com/nntrn/dvt/commit/6e42802dcd22548be5c2d93c8a5b9939c42a10f9\",",
    "    \"comments_url\": \"https://api.github.com/repos/nntrn/dvt/commits/6e42802dcd22548be5c2d93c8a5b9939c42a10f9/comments\",",
    "    \"author\": {",
    "      \"login\": \"nntrn\",",
    "      \"id\": 17685332,",
    "      \"node_id\": \"MDQ6VXNlcjE3Njg1MzMy\",",
    "      \"avatar_url\": \"https://avatars.githubusercontent.com/u/17685332?v=4\",",
    "      \"gravatar_id\": \"\",",
    "      \"url\": \"https://api.github.com/users/nntrn\",",
    "      \"html_url\": \"https://github.com/nntrn\",",
    "      \"followers_url\": \"https://api.github.com/users/nntrn/followers\",",
    "      \"following_url\": \"https://api.github.com/users/nntrn/following{/other_user}\",",
    "      \"gists_url\": \"https://api.github.com/users/nntrn/gists{/gist_id}\",",
    "      \"starred_url\": \"https://api.github.com/users/nntrn/starred{/owner}{/repo}\",",
    "      \"subscriptions_url\": \"https://api.github.com/users/nntrn/subscriptions\",",
    "      \"organizations_url\": \"https://api.github.com/users/nntrn/orgs\",",
    "      \"repos_url\": \"https://api.github.com/users/nntrn/repos\",",
    "      \"events_url\": \"https://api.github.com/users/nntrn/events{/privacy}\",",
    "      \"received_events_url\": \"https://api.github.com/users/nntrn/received_events\",",
    "      \"type\": \"User\",",
    "      \"site_admin\": false",
    "    },",
    "    \"committer\": {",
    "      \"login\": \"nntrn\",",
    "      \"id\": 17685332,",
    "      \"node_id\": \"MDQ6VXNlcjE3Njg1MzMy\",",
    "      \"avatar_url\": \"https://avatars.githubusercontent.com/u/17685332?v=4\",",
    "      \"gravatar_id\": \"\",",
    "      \"url\": \"https://api.github.com/users/nntrn\",",
    "      \"html_url\": \"https://github.com/nntrn\",",
    "      \"followers_url\": \"https://api.github.com/users/nntrn/followers\",",
    "      \"following_url\": \"https://api.github.com/users/nntrn/following{/other_user}\",",
    "      \"gists_url\": \"https://api.github.com/users/nntrn/gists{/gist_id}\",",
    "      \"starred_url\": \"https://api.github.com/users/nntrn/starred{/owner}{/repo}\",",
    "      \"subscriptions_url\": \"https://api.github.com/users/nntrn/subscriptions\",",
    "      \"organizations_url\": \"https://api.github.com/users/nntrn/orgs\",",
    "      \"repos_url\": \"https://api.github.com/users/nntrn/repos\",",
    "      \"events_url\": \"https://api.github.com/users/nntrn/events{/privacy}\",",
    "      \"received_events_url\": \"https://api.github.com/users/nntrn/received_events\",",
    "      \"type\": \"User\",",
    "      \"site_admin\": false",
    "    },",
    "    \"parents\": [",
    "      {",
    "        \"sha\": \"be0297653a3b4e355c8b28746032cca861304401\",",
    "        \"url\": \"https://api.github.com/repos/nntrn/dvt/commits/be0297653a3b4e355c8b28746032cca861304401\",",
    "        \"html_url\": \"https://github.com/nntrn/dvt/commit/be0297653a3b4e355c8b28746032cca861304401\"",
    "      }",
    "    ]",
    "  }",
    "]",
    ""
  ],
  "output": [
    "{",
    "  \"message\": \"1.2.0\",",
    "  \"date\": \"2021-12-27T12:13:16Z\"",
    "}",
    ""
  ],
  "description": [
    "We can use jq to extract just the first commit.",
    "$ curl 'https://api.github.com/repos/stedolan/jq/commits?per_page=5' | jq '.[0]'",
    "",
    "For the rest of the examples, I'll leave out the curl command - it's not going to change.",
    "",
    "There's a lot of info we don't care about there, so we'll restrict it down to the most interesting fields.",
    "$ jq '.[0] | {message: .commit.message, name: .commit.committer.name}'",
    "",
    "The | operator in jq feeds the output of one filter (.[0] which gets the first element of the array in the response) into the input of another ({...} which builds an object out of those fields). You can access nested attributes, such as .commit.message.",
    "",
    "Now let's get the rest of the commits.",
    "",
    "$ jq '.[] | {message: .commit.message, name: .commit.committer.name}'"
  ],
  "language": "bash",
  "tags": [
    "vault"
  ],
  "url": "https://stedolan.github.io/jq/tutorial/"
}
