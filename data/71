{
  "id": 71,
  "title": "output all yml",
  "created": "2021-07-09T21:23:00Z",
  "modified": "2021-12-30T19:44:10Z",
  "code": [
    "tmppath=\"/tmp/$(date +%F)/ansible-roles\"",
    "mkdir -p $tmppath",
    "for d in $(find $PWD -mindepth 1 -maxdepth 1 -type d); do",
    "  echo \"$d\"",
    "  savename=\"${d//${PWD}\\//}\"",
    "  find \"$d\" -type f -name \"*.yml\" -print -exec cat {} \\; | sed -e 's@'\"$(echo \"$d\")\"'@'\"$(echo \"\\n# file: $d\")\"'@g' | tee \"$tmppath/${savename//[^a-zA-Z0-9.]/_}\"",
    "done"
  ],
  "example": "",
  "output": "",
  "description": "",
  "command": [
    "tmppath=\"/tmp/$(date",
    "sed",
    "tee"
  ],
  "language": "bash",
  "tags": []
}
